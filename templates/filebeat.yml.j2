filebeat.inputs:
- type: log
  enabled: false
  paths:
    - /var/log/*.log
filebeat.config.modules:
  path: ${path.config}/modules.d/*.yml
  reload.enabled: false
setup.template.settings:
  index.number_of_shards: 1
setup.kibana:
output.elasticsearch:
{% if elasticsearch_http_security | bool %}
  hosts: ["https://localhost:9200"]
  username: "elastic"
  password: "{{ beats_writer_password.stdout }}"
  ssl.enabled: true
  ssl.verification_mode: none
  ssl.certificate_authorities: ["/etc/beats/certs/ca.crt"]
{% else %}
  hosts: ["localhost:9200"]
{% endif %}
processors:
  - add_host_metadata: ~
  - add_cloud_metadata: ~
